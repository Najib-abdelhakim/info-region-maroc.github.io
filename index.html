<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyse Sociologique des Régions Marocaines</title>
    
    <!-- Bibliothèques -->
    <script src="https://unpkg.com/d3@7.8.5/dist/d3.min.js"></script>
    <script src="https://unpkg.com/topojson@3.0.2/dist/topojson.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Bouton thème -->
    <button id="theme-toggle" class="theme-toggle" title="Changer le thème">
        
    </button>

    <div class="header">
        <h1>Analyse Sociologique des Régions du Maroc</h1>
        <p>Visualisation des indicateurs démographiques et territoriaux - Recensement 2024</p>
    </div>

    <div class="container">
        <!-- Carte des régions -->
        <div class="card map-container">
            <h2>Carte Interactive des Régions du Maroc</h2>
            <p class="map-description">Cliquez sur une région pour voir ses détails</p>
            <div id="map"></div>
            <div id="region-info" class="info-panel"></div>
        </div>

        <!-- Contrôles et filtres -->
        <div class="controls">
            <div class="control-group">
                <label for="indicateur">Indicateur :</label>
                <select id="indicateur">
                    <option value="population">Population</option>
                    <option value="densite">Densité de population</option>
                    <option value="superficie">Superficie</option>
                    <option value="population_pourcentage">Population nationale</option>
                    <option value="superficie_pourcentage">Superficie nationale</option>
                    <option value="subdivisions">Nombre de communes</option>
                    <option value="provinces">Nombre de provinces</option>
                    <option value="densite_par_province">Densité par province</option>
                    <option value="taille_moyenne_communes">Taille moyenne des communes</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="filtre-population">Filtrer par population:</label>
                <div class="range-container">
                    <input type="range" id="filtre-population" min="0" max="8000000" step="100000" value="0">
                    <span id="population-value">Toutes les régions</span>
                </div>
            </div>
            
            <div class="button-group">
                <button id="reset-btn" class="reset-button">
                    <span>↺</span> Réinitialiser
                </button>
                <button id="export-btn" class="export-button">
                    <span></span> Exporter
                </button>
            </div>
        </div>

        <!-- Graphiques -->
        <div class="charts-grid">
            <div class="card chart-container">
                <h3>Répartition par Indicateur</h3>
                <div class="chart-wrapper">
                    <canvas id="barChart"></canvas>
                </div>
            </div>
            
            <div class="card chart-container">
                <h3>Comparaison Régionale</h3>
                <div class="chart-wrapper">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
            
            <div class="card chart-container">
                <h3>Répartition de la Population</h3>
                <div class="chart-wrapper">
                    <canvas id="pieChart"></canvas>
                </div>
            </div>
            
            <div class="card chart-container">
                <h3>Corrélations Densité vs Population</h3>
                <div class="chart-wrapper">
                    <canvas id="scatterChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Nouveau graphique de tendances -->
        <div class="card chart-container">
            <h3>Indicateurs Calculés</h3>
            <div class="chart-wrapper">
                <canvas id="trendChart"></canvas>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>